<!doctype html>
<html lang="en" id="boilerplateIndex">
  <head>
    <base target="_top" />
    <meta name="boilerplateIndex" content="Boilerplate Index.html" />
    <style>
      a:link,
      a:visited {
        color: black !important;
      }
      a:hover,
      a:active {
        color: white !important;
        text-decoration: none !important;
      }
    </style>
  </head>
  <body class="blue" id="template">
    <a href="https://flewis21.github.io/Don-time-Life-Services/" target="_top"
      ><span
        ><h1
          class="z-depth-5 toolbar_icon toolbar_iconHover scale-transition scale-out scale-in btn-large receipt"
        >
          Don'time Life Services!
        </h1></span
      ></a
    >

    <div>
      <ul class="table-body menu-img z-depth-5"></ul>
    </div>
    <nav
      class="col s10 push-s1 push-m1 push-l1 menu z-depth-5 card-panel amber scale-out scale-in"
      style="font-size: 30px"
    ></nav>
    <div class="row">
      <div id="indexSEO" class="container">
        <div class="col s12 receipt nav-wrapper deep-purple darken-1">
          <div
            class="container menu-img grey darken-4 z-depth-5 scale-transition scale-out scale-in receipt"
          ></div>
        </div>
      </div>
    </div>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
      document
        .querySelector("div")
        .setAttribute("style", "color: blue; clear: both; text-align: center;");
      document
        .querySelector("body")
        .setAttribute("style", "background-color: amber;background: 282828;");
      document
        .querySelector("iframe")
        .setAttribute("style", "color: blue; clear: both; text-align: center;");
    </script>
    <script id="indexScript1">
      function serverside(func, args) {
        return new Promise((resolve, reject) => {
          google.script.run
            .withSuccessHandler((result) => {
              resolve(result);
            })
            .withFailureHandler((error) => {
              console.log(error);
              console.log(document.getElementById("test").innerHTML);
              reject(error);
            })
            .runBoilerplate([func], [args]);
        });
      }
      document.addEventListener("DOMContentLoaded", updatePage);
      var htmSearchList = [``].toString().split(" ");
      var htmNum = function () {
        return Math.floor(Math.random() * Math.floor(htmSearchList.length));
      };
      var rndPage = htmSearchList[htmNum()];
      console.log(rndPage + "...");
      function updatePage() {
        localStorage.setItem("htmSearch", rndPage);
        document.getElementById("indexSEO").innerHTML =
          "waiting for " + rndPage + "...";
        google.script.run
          .withSuccessHandler(done)
          .withFailureHandler(error)
          .runBoilerplate("seoIndex");
        function done(drop) {
          alert(rndPage + "(" + drop + ")");
          alert("droplet.length = " + drop.length);
          // alert(droplet.length + " is not the required length")

          serverside("getScriptUrl")
            .then((cChange) => {
              console.log(typeof cChange + " with length = " + cChange.length);
              if (cChange.length === 112) {
                // console.log(cChange)
                var linkFollow = document.createElement("a");
                linkFollow.href = cChange + "?func=seoIndex";
                linkFollow.id = "linkFOLLOW";
                linkFollow.target = "_child";
                document.body.appendChild(linkFollow);
                document.getElementById("linkFOLLOW").click();
                document.getElementById("linkFOLLOW").remove();
              } else {
                var docWnd = document.getElementById("indexSEO");
                docWnd.innerHTML = drop;
              }
            })
            .catch((er) => {
              alert(rndPage + " error(" + er + ")");
              console.log(er);
              document.getElementById("indexSEO").innerHTML =
                JSON.stringify(er);
            });
        }
      }
      function navAway() {
        var newPage = htmSearchList[htmNum()];
        rndPage = newPage;
        localStorage.setItem("htmSearch", rndPage);
        document.getElementById("indexSEO").innerHTML =
          "waiting for " + newPage + "...";
        google.script.run
          .withSuccessHandler(done)
          .withFailureHandler(error)
          .runBoilerplate("seoIndex");
        function done(drop) {
          alert(rndPage + "(" + drop + ")");
          alert("droplet.length = " + drop.length);
          // alert(droplet.length + " is not the required length")

          serverside("getScriptUrl")
            .then((cChange) => {
              console.log(typeof cChange + " with length = " + cChange.length);
              if (cChange.length === 112) {
                // console.log(cChange)
                var linkFollow = document.createElement("a");
                linkFollow.href = cChange + "?func=seoIndex";
                linkFollow.id = "linkFOLLOW";
                linkFollow.target = "_child";
                document.body.appendChild(linkFollow);
                document.getElementById("linkFOLLOW").click();
                document.getElementById("linkFOLLOW").remove();
              } else {
                var docWnd = document.getElementById("indexSEO");
                docWnd.innerHTML = drop;
              }
            })
            .catch((er) => {
              alert(rndPage + " error(" + er + ")");
              console.log(er);
              document.getElementById("indexSEO").innerHTML =
                JSON.stringify(er);
            });
        }
      }
      function error(er) {
        alert(rndPage + " error(" + er + ")");
        console.log(er);
        document.getElementById("indexSEO").innerHTML = JSON.stringify(er);
      }
    </script>
  </body>
</html>
