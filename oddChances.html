<html id="test">
  <head>
    <base target="_self" />
    <?!= styleHtml() ?>
  </head>
  <body>
    <div class="toolbar toolbar_icon toolbar_iconHover scale-out receipt">
      <?!= rule() ?>
    </div>
    <a href="https://flewis21.github.io/codepipeline/" target="_top"
      ><span
        ><h1
          class="z-depth-5 toolbar_icon toolbar_iconHover scale-transition scale-out scale-in btn-large receipt"
        >
          Dont'ime Life Services!
        </h1></span
      ></a
    >
    <span
      ><input
        placeholder="Calculator..."
        class="menu-img z-depth-5 card-panel black scale-transition scale-out scale-in receipt btn-large"
        id="username"
        type="search"
    /></span>
    <div
      class="dotted-border menu-img z-depth-5 btn-large card-panel amber z-depth-5"
    >
      <ul
        class="receipt_company_info_receipt_footer receipt breakthrough amber menu-img btn-large video-container valign-wrapper darken-4 z-depth-5 scale-in"
      >
        <p
          id="list"
          class="toolbar toolbar-icon toolbar_iconHover amber darken-4 receipt scale-out"
        >
          <?!= list ?>
        </p>
      </ul>
    </div>
    <div
      class="agenda z-depth-5 pulse btn-large card-panel blue scale-out scale-in receipt"
    >
      <input
        class="datepicker menu-img z-depth-5 card-panel red scale-transition receipt toolbar toolbar_icon toolbar_iconHover scale-out scale-in"
        id="prefDate"
        type="text"
        placeholder="Book a date"
      />
    </div>

    <div
      class="agenda z-depth-5 pulse btn-large card-panel blue scale-out scale-in receipt"
    >
      <input
        class="timepicker menu-img z-depth-5 card-panel green scale-transition receipt toolbar toolbar_icon toolbar_iconHover scale-out scale-in"
        id="prefTime"
        type="text"
        placeholder="Book a time"
      />
    </div>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
      document.getElementById('username').addEventListener('change', <?!= topScript ?>)
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", appJS);
      function appJS() {
        // mod the array
        let timePicker = document.getElementById("prefTime");
        M.Timepicker.init(timePicker, { defaultTime: "now" });
        google.script.run
          .withSuccessHandler(populateDates)
          .runAll("boilerplate.busyDates", []);
        function populateDates(disabledDays) {
          let datePicker = document.getElementById("prefDate");
          M.Datepicker.init(datePicker, {
            minDate: new Date(),
            setDefaultDate: true,
            disableDayFn: function (day) {
              return disabledDays.indexOf(day.valueOf()) > -1;
            },
          });
        }
      }
    </script>
    <input type="hidden" value="<?= getUrl(ScriptApp) ?>" id="url" />
  </body>
</html>
